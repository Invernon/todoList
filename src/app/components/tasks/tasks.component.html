<div class="flex-container">
  <div class="list-container flex-end">
    <div class="list-name">
      <span> Total: {{tasks.length}} </span>
    </div>
    <div class="list-description"> </div>
    <div class="list-action">
      <button class="btn aqua" (click)="addNewToggle()">
        {{ !addForm ? 'Agregar nueva tarea' : 'Cerrar' }}
      </button>
    </div>
  </div>

  <!-- Formulario para las nuevas tareas -->
  <div class="list-container list-form" *ngIf="addForm">
    <form class="form-column" [formGroup]="taskForm" (ngSubmit)="onSubmit(taskID)">
      <div class="form-group">
        <label>Nombre</label>
        <input type="text" formControlName="name">
      </div>
      <div class="form-group">
        <label>Tipo</label>
        <input type="text" formControlName="type">
      </div>
      <div class="form-group">
        <label>Detalle</label>
        <input formControlName="detail">
      </div>
      <div class="form-group">
        <label>Prioridad</label>
        <select formControlName="priority">
          <option *ngFor="let option of options" [ngValue]="option.value"> {{option.name}} </option>
        </select>
      </div>
      <button type="submit" class="btn aqua" [ngClass]="{ 'disabled' : taskForm.invalid }" [disabled]="taskForm.invalid">
        Agregar </button>
    </form>
  </div>



    <div class="list-container list-header">
      <div class="list-name">
        <span> Nombre </span>
      </div>

      <div class="list-description">
        <span> Tipo </span> / <span> Detalle </span>
      </div>

      <div class="list-action">
        <span> Acciones </span>
      </div>

    </div>
    <!-- Iteracion para mostar las tareas guardadas -->
    <div class="list-container" *ngFor="let task of tasks; trackBy: trackByFn" [ngStyle]="{ 'background-color' : getBgColor(task.priority) }">
      <div class="list-name">
        <span> {{task?.name}} </span>
      </div>

      <div class="list-description">
        <span> {{task?.type }} </span> , <span> {{task?.detail}} </span>
      </div>

      <div class="list-action">
        <button class="btn success" (click)="editTask(task)"> Editar </button>
        <button class="btn danger" (click)="deleteTask(task.id)"> Eliminar </button>
      </div>

    </div>

    <div class="list-container flex-center" *ngIf="tasks.length == 0 ">
      <h2> Felicidades, no tiene tareas!</h2>
    </div>
</div>